# MediaTech Production Environment Variables
# Copy this file to .env.production and fill in the actual values
# NEVER commit the actual .env.production file to version control

# ==============================================
# DOCKER & DEPLOYMENT CONFIGURATION
# ==============================================
DOCKER_REGISTRY=codingmessaoud
IMAGE_TAG=latest
COMPOSE_PROJECT_NAME=mediatech

# ==============================================
# APPLICATION CONFIGURATION
# ==============================================
NODE_ENV=production
API_URL=https://my-library.cloud/api
FRONTEND_URL=https://my-library.cloud
CORS_ORIGIN=https://my-library.cloud,https://www.my-library.cloud

# ==============================================
# DATABASE CONFIGURATION
# ==============================================
DB_PASSWORD=CHANGE_ME_STRONG_PASSWORD_HERE
DATABASE_URL=postgresql://postgres:${DB_PASSWORD}@db:5432/mediatech_prod

# ==============================================
# JWT & SESSION SECRETS
# ==============================================
# Generate with: openssl rand -hex 32
JWT_SECRET=CHANGE_ME_64_CHAR_SECRET_HERE
# Generate with: openssl rand -hex 32  
SESSION_SECRET=CHANGE_ME_64_CHAR_SESSION_SECRET_HERE

# JWT Token expiration
JWT_ACCESS_EXPIRATION=1h
JWT_REFRESH_EXPIRATION=7d

# ==============================================
# EXTERNAL SERVICES
# ==============================================
# Supabase Configuration
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_KEY=your_supabase_anon_key_here

# Email Service (Resend)
RESEND_API_KEY=re_your_resend_api_key_here
RESEND_FROM_EMAIL=noreply@my-library.cloud

# ==============================================
# SECURITY & RATE LIMITING
# ==============================================
BCRYPT_ROUNDS=12
RATE_LIMIT_TTL=60
RATE_LIMIT_LIMIT=100

# ==============================================
# FILE UPLOAD CONFIGURATION
# ==============================================
MAX_FILE_SIZE=10485760
UPLOAD_DEST=/usr/src/app/uploads

# ==============================================
# LOGGING CONFIGURATION
# ==============================================
LOG_LEVEL=warn

# ==============================================
# BACKUP CONFIGURATION
# ==============================================
BACKUP_KEEP_DAYS=7
BACKUP_KEEP_WEEKS=4
BACKUP_KEEP_MONTHS=6

# ==============================================
# MONITORING & HEALTH CHECKS
# ==============================================
HEALTH_CHECK_TIMEOUT=300
NOTIFICATION_WEBHOOK=

# ==============================================
# SSL & DOMAIN CONFIGURATION
# ==============================================
DOMAIN=my-library.cloud
SSL_EMAIL=your-email@domain.com

# ==============================================
# TIMEZONE
# ==============================================
TZ=Europe/Paris

# ==============================================
# REDIS CONFIGURATION (Optional)
# ==============================================
REDIS_URL=redis://redis:6379
REDIS_PASSWORD=

# ==============================================
# PERFORMANCE TUNING
# ==============================================
# PostgreSQL
POSTGRES_MAX_CONNECTIONS=200
POSTGRES_SHARED_BUFFERS=512MB
POSTGRES_EFFECTIVE_CACHE_SIZE=1.5GB
POSTGRES_WORK_MEM=8MB

# Node.js
NODE_OPTIONS=--max-old-space-size=1024

# ==============================================
# DEVELOPMENT OVERRIDES (if needed)
# ==============================================
# Uncomment only if you need to override specific settings for staging
# DEBUG=false
# DISABLE_SSL_VERIFY=false