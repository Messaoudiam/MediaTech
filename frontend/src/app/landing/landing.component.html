<div class="landing-container">
  <section class="hero-section">
    <div class="hero-content">
      <h1 class="hero-title">Bibliothèque du Centenaire</h1>
      <p class="hero-subtitle">
        Votre bibliothèque numérique pour explorer, découvrir et emprunter des
        livres
      </p>
      <div class="hero-actions">
        <button
          mat-raised-button
          color="primary"
          [routerLink]="['/auth/register']"
        >
          <mat-icon>person_add</mat-icon>
          Créer un compte
        </button>
        <button
          mat-stroked-button
          color="primary"
          [routerLink]="['/auth/login']"
        >
          <mat-icon>login</mat-icon>
          Se connecter
        </button>
      </div>
    </div>
    <div class="hero-image">
      <img src="assets\images\library.jpg" alt="Bibliothèque" />
    </div>
  </section>

  <section class="features-section">
    <h2 class="section-title">
      Pourquoi choisir la Bibliothèque du Centenaire ?
    </h2>
    <div class="features-grid">
      <div class="feature-card">
        <mat-icon>book</mat-icon>
        <h3>Grande collection</h3>
        <p>Accédez à des milliers de livres de tous genres</p>
      </div>
      <div class="feature-card">
        <mat-icon>search</mat-icon>
        <h3>Recherche facile</h3>
        <p>Trouvez rapidement les livres qui vous intéressent</p>
      </div>
      <div class="feature-card">
        <mat-icon>favorite</mat-icon>
        <h3>Favoris</h3>
        <p>Enregistrez vos livres préférés pour plus tard</p>
      </div>
      <div class="feature-card">
        <mat-icon>history</mat-icon>
        <h3>Historique</h3>
        <p>Suivez vos emprunts et retours</p>
      </div>
    </div>
  </section>

  <section class="featured-books-section">
    <h2 class="section-title">Tous nos livres disponibles</h2>

    <div class="view-all-button-container">
      <button
        mat-raised-button
        color="primary"
        [routerLink]="['/books/all']"
        class="view-all-button"
      >
        <mat-icon>library_books</mat-icon>
        Voir tous les livres
      </button>
    </div>

    <!-- Indicateur de chargement -->
    <div class="loading-container" *ngIf="loading">
      <mat-icon class="loading-icon">autorenew</mat-icon>
      <p>Chargement des livres...</p>
    </div>

    <!-- Message d'erreur -->
    <div class="error-container" *ngIf="error">
      <mat-icon class="error-icon">error</mat-icon>
      <p>Impossible de charger les livres. Veuillez réessayer plus tard.</p>
    </div>

    <!-- Carrousel de livres -->
    <div class="carousel-container" *ngIf="!loading && !error">
      <button
        class="nav-button prev-button"
        [disabled]="!canGoToPreviousPage()"
        (click)="previousPage()"
        [class.disabled]="!canGoToPreviousPage()"
      >
        <mat-icon>chevron_left</mat-icon>
      </button>

      <div class="books-carousel">
        <mat-card
          class="book-card"
          *ngFor="let book of displayedBooks"
          [routerLink]="['/books', book.id]"
        >
          <img
            mat-card-image
            [src]="getBookCoverUrl(book.coverImageUrl)"
            [alt]="book.title"
            class="book-cover"
            (error)="handleImageError($event)"
          />
          <mat-card-content>
            <h3 class="book-title">{{ book.title }}</h3>
            <p class="book-author">{{ book.author }}</p>
            <div class="book-details">
              <span *ngIf="book.publishedYear" class="book-year">{{
                book.publishedYear
              }}</span>
              <span *ngIf="book.genre" class="book-genre">{{
                book.genre
              }}</span>
            </div>
          </mat-card-content>
          <mat-card-actions>
            <button mat-button color="primary">
              <mat-icon>visibility</mat-icon>
              Voir détails
            </button>
          </mat-card-actions>
        </mat-card>
      </div>

      <button
        class="nav-button next-button"
        [disabled]="!canGoToNextPage()"
        (click)="nextPage()"
        [class.disabled]="!canGoToNextPage()"
      >
        <mat-icon>chevron_right</mat-icon>
      </button>
    </div>

    <!-- Pagination -->
    <div class="pagination-info" *ngIf="!loading && !error">
      <span>{{ currentPage + 1 }} / {{ totalPages }}</span>
    </div>
  </section>

  <footer class="footer">
    <div class="footer-content">
      <div class="footer-logo">
        <span class="logo">Bibliothèque du Centenaire</span>
        <p>© 2025 Bibliothèque du Centenaire. Tous droits réservés.</p>
      </div>
      <div class="footer-links">
        <a href="#">À propos</a>
        <a href="#">Contact</a>
        <a href="#">Confidentialité</a>
        <a href="#">Conditions d'utilisation</a>
      </div>
    </div>
  </footer>
</div>
